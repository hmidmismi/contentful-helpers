{"version":3,"sources":["../src/utils/parsers.ts"],"sourcesContent":["import { Entry, Asset, AssetLink } from 'contentful';\n\nimport { TypePageSkeleton, ImageType, PageType } from '@/types';\n\ntype PageEntry = Entry<TypePageSkeleton, undefined, string>;\n\nexport function parseContentfulContentImage(asset?: Asset<undefined, string> | { sys: AssetLink }): ImageType | null {\n  if (!asset) {\n    return null;\n  }\n\n  if (!('fields' in asset)) {\n    return null;\n  }\n\n  return {\n    id: asset.sys.id,\n    src: asset.fields.file?.url || '',\n    alt: asset.fields.description || '',\n    width: asset.fields.file?.details.image?.width || 0,\n    height: asset.fields.file?.details.image?.height || 0,\n  };\n}\n\nexport function parseContentfulPage(pageEntry?: PageEntry): PageType | null {\n  if (!pageEntry) {\n    return null;\n  }\n\n  // Guarantee \"images\" is an array, though possibly an empty array\n  const images =\n    pageEntry.fields.images?.map(parseContentfulContentImage).filter((img): img is ImageType => img !== null) || [];\n\n  return {\n    id: pageEntry.sys.id,\n    title: pageEntry.fields.title || '',\n    slug: pageEntry.fields.slug || '',\n    body: pageEntry.fields.body || null,\n    images,\n  };\n}\n"],"mappings":";AAMO,SAAS,4BAA4B,OAAyE;AANrH;AAOE,MAAI,CAAC,OAAO;AACV,WAAO;AAAA,EACT;AAEA,MAAI,EAAE,YAAY,QAAQ;AACxB,WAAO;AAAA,EACT;AAEA,SAAO;AAAA,IACL,IAAI,MAAM,IAAI;AAAA,IACd,OAAK,WAAM,OAAO,SAAb,mBAAmB,QAAO;AAAA,IAC/B,KAAK,MAAM,OAAO,eAAe;AAAA,IACjC,SAAO,iBAAM,OAAO,SAAb,mBAAmB,QAAQ,UAA3B,mBAAkC,UAAS;AAAA,IAClD,UAAQ,iBAAM,OAAO,SAAb,mBAAmB,QAAQ,UAA3B,mBAAkC,WAAU;AAAA,EACtD;AACF;AAEO,SAAS,oBAAoB,WAAwC;AAxB5E;AAyBE,MAAI,CAAC,WAAW;AACd,WAAO;AAAA,EACT;AAGA,QAAM,WACJ,eAAU,OAAO,WAAjB,mBAAyB,IAAI,6BAA6B,OAAO,CAAC,QAA0B,QAAQ,UAAS,CAAC;AAEhH,SAAO;AAAA,IACL,IAAI,UAAU,IAAI;AAAA,IAClB,OAAO,UAAU,OAAO,SAAS;AAAA,IACjC,MAAM,UAAU,OAAO,QAAQ;AAAA,IAC/B,MAAM,UAAU,OAAO,QAAQ;AAAA,IAC/B;AAAA,EACF;AACF;","names":[]}